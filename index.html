<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>静，给你的一封信</title>

<style>
:root{
  --bg1:#0f1020;
  --bg2:#1b1630;
  --text:#f6f2ff;
  --muted:#d8cfffcc;
  --accent:#ff6b9a;
  --accent2:#ffd1dc;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Microsoft YaHei",system-ui,sans-serif;
  background:linear-gradient(140deg,var(--bg1),var(--bg2));
  overflow-x:hidden;
}

/* 背景照片 */
.photo-bg{
  position:fixed; inset:0;
  background-image:url("photo.jpg");
  background-size:cover;
  background-position:center;
  opacity:.15;
  filter:blur(2px);
}

/* 信封 */
.envelope-wrap{
  width:min(560px,92vw);
  aspect-ratio:16/10;
  margin:120px auto 20px;
  cursor:pointer;
  perspective:1200px;
}
.envelope{
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
}
.env-body{
  position:absolute; inset:0;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.2);
  border-radius:16px;
}
.flap{
  position:absolute;
  left:0; right:0;
  top:-1px;
  height:56%;
  transform-origin:top center;
  transform:rotateX(0deg);
  transition:transform .9s ease;
}
.flap:before{
  content:"";
  position:absolute; inset:0;
  background:rgba(255,255,255,.1);
  border:1px solid rgba(255,255,255,.2);
  clip-path:polygon(0 0,100% 0,50% 100%);
}
.paper{
  position:absolute;
  width:92%;
  height:88%;
  left:4%;
  bottom:6%;
  background:rgba(255,255,255,.12);
  border-radius:12px;
  transform:translateY(30%);
  transition:all .9s ease;
}
.state-flap .flap{transform:rotateX(-160deg);}
.state-pull .paper{transform:translateY(-20%);}
.state-unfold .paper{
  height:120%;
  bottom:-10%;
  transform:translateY(-30%);
}

/* 信纸内容卡片 */
.card{
  width:min(880px,94vw);
  margin:40px auto;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.2);
  border-radius:24px;
  padding:40px;
  opacity:0;
  transform:translateY(10px);
  transition:.8s ease;
}
.card.show{
  opacity:1;
  transform:translateY(0);
}

.polaroid{
  width:150px;
  background:white;
  padding:10px 10px 20px;
  border-radius:14px;
  transform:rotate(-3deg);
  margin-bottom:20px;
}
.polaroid img{
  width:100%;
  border-radius:8px;
}
.handwrite{
  margin-top:8px;
  font-family:cursive;
  font-size:14px;
  color:#333;
  display:flex;
  justify-content:space-between;
}

h1{margin-top:0}
p{line-height:1.9}

.signature{
  margin-top:30px;
  display:flex;
  justify-content:space-between;
  opacity:.8;
}

button{
  margin-top:20px;
  padding:8px 14px;
  border:none;
  border-radius:8px;
  background:var(--accent);
  color:#fff;
  cursor:pointer;
}

</style>
</head>

<body>

<div class="photo-bg"></div>

<div class="envelope-wrap" id="envelopeWrap">
  <div class="envelope" id="envelope">
    <div class="env-body"></div>
    <div class="paper"></div>
    <div class="flap"></div>
  </div>
</div>

<div class="card" id="card">

  <div class="polaroid">
    <img src="photo.jpg">
    <div class="handwrite">
      <span>For 静</span>
      <span id="date"></span>
    </div>
  </div>

  <h1>静，这是一封来自愿意为你而活的人的信。</h1>

  <p>静，</p>

  <p>其实我一直觉得，我们的感情很特别。</p>

  <p>它不张扬，不轰轰烈烈，却让我在很多时刻感到安心。
  比如你提前去安排好住的地方，然后来接我。
  比如我们一起胡吃海喝、谈天说地。
  那些画面很简单，却让我很珍惜。</p>

  <p>异国的距离确实不容易，但每天视频、聊天的那些时间，
  让我觉得我们并不是在两个世界里生活。</p>

  <p>你曾经说，先异国一年，看看感觉。
  我其实是开心的。
  因为那代表你愿意认真考虑我，而不是随便对待。</p>

  <p>我不知道未来会怎样，但我知道此刻的我，是认真地喜欢你。</p>

  <p>情人节快乐。
  不论距离多远，我都很珍惜和你并肩的感觉。</p>

  <div class="signature">
    <span>—— 祝</span>
    <span id="time"></span>
  </div>

  <button id="musicBtn">播放音乐</button>

</div>

<audio id="bgm" src="music.mp3" loop></audio>

<script>

// 日期
const now=new Date();
document.getElementById("date").innerText=
  `${now.getFullYear()}.${now.getMonth()+1}.${now.getDate()}`;
document.getElementById("time").innerText=
  `${now.getFullYear()}-${now.getMonth()+1}-${now.getDate()}`;

// 信封动画
const envelope=document.getElementById("envelope");
const card=document.getElementById("card");
const bgm=document.getElementById("bgm");

let opened=false;

document.getElementById("envelopeWrap").onclick=function(){
  if(opened) return;
  opened=true;

  envelope.classList.add("state-flap");
  setTimeout(()=>envelope.classList.add("state-pull"),600);
  setTimeout(()=>envelope.classList.add("state-unfold"),1400);
  setTimeout(()=>{
    card.classList.add("show");
    bgm.volume=0.6;
    bgm.play().catch(()=>{});
  },2000);
};

// 音乐按钮
document.getElementById("musicBtn").onclick=function(){
  if(bgm.paused){
    bgm.volume=0.6;
    bgm.play();
    this.innerText="暂停音乐";
  }else{
    bgm.pause();
    this.innerText="播放音乐";
  }
};

</script>
</body>
</html>
