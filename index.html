<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>é™ï¼Œç»™ä½ çš„ä¸€å°ä¿¡</title>

<style>
:root{
  --bg1:#0f1020;
  --bg2:#1b1630;
  --text:#f6f2ff;
  --muted:#d8cfffcc;
  --accent:#ff6b9a;
  --accent2:#ffd1dc;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Microsoft YaHei",system-ui,sans-serif;
  background:linear-gradient(140deg,var(--bg1),var(--bg2));
  overflow-x:hidden;
}

/* èƒŒæ™¯ç…§ç‰‡ */
.photo-bg{
  position:fixed; inset:0;
  background-image:url("photo.jpg");
  background-size:cover;
  background-position:center;
  opacity:.15;
  filter:blur(2px);
}

/* ä¿¡å° */
.envelope-wrap{
  width:min(560px,92vw);
  aspect-ratio:16/10;
  margin:120px auto 20px;
  cursor:pointer;
  perspective:1200px;
}
.envelope{
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
}
.env-body{
  position:absolute; inset:0;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.2);
  border-radius:16px;
}
.flap{
  position:absolute;
  left:0; right:0;
  top:-1px;
  height:56%;
  transform-origin:top center;
  transform:rotateX(0deg);
  transition:transform .9s ease;
}
.flap:before{
  content:"";
  position:absolute; inset:0;
  background:rgba(255,255,255,.1);
  border:1px solid rgba(255,255,255,.2);
  clip-path:polygon(0 0,100% 0,50% 100%);
}
.paper{
  position:absolute;
  width:92%;
  height:88%;
  left:4%;
  bottom:6%;
  background:rgba(255,255,255,.12);
  border-radius:12px;
  transform:translateY(30%);
  transition:all .9s ease;
}
.state-flap .flap{transform:rotateX(-160deg);}
.state-pull .paper{transform:translateY(-20%);}
.state-unfold .paper{
  height:120%;
  bottom:-10%;
  transform:translateY(-30%);
}

/* ä¿¡çº¸å†…å®¹å¡ç‰‡ */
.card{
  width:min(880px,94vw);
  margin:40px auto;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.2);
  border-radius:24px;
  padding:40px;
  opacity:0;
  transform:translateY(10px);
  transition:.8s ease;
}
.card.show{
  opacity:1;
  transform:translateY(0);
}

.polaroid{
  width:150px;
  background:white;
  padding:10px 10px 20px;
  border-radius:14px;
  transform:rotate(-3deg);
  margin-bottom:20px;
}
.polaroid img{
  width:100%;
  border-radius:8px;
}
.handwrite{
  margin-top:8px;
  font-family:cursive;
  font-size:14px;
  color:#333;
  display:flex;
  justify-content:space-between;
}

h1{margin-top:0}
p{line-height:1.9}

.signature{
  margin-top:30px;
  display:flex;
  justify-content:space-between;
  opacity:.8;
}

button{
  margin-top:20px;
  padding:8px 14px;
  border:none;
  border-radius:8px;
  background:var(--accent);
  color:#fff;
  cursor:pointer;
}

</style>
</head>

<body>

<div class="photo-bg"></div>

<div class="envelope-wrap" id="envelopeWrap">
  <div class="envelope" id="envelope">
    <div class="env-body"></div>
    <div class="paper"></div>
    <div class="flap"></div>
  </div>
</div>

<div class="card" id="card">

  <div class="polaroid">
    <img src="photo.jpg">
    <div class="handwrite">
      <span>For é™</span>
      <span id="date"></span>
    </div>
  </div>

  <h1>é™ï¼Œè¿™æ˜¯ä¸€å°æ¥è‡ªæ„¿æ„ä¸ºä½ è€Œæ´»çš„äººçš„ä¿¡ã€‚</h1>

  <p>é™ï¼Œ</p>

  <p>å…¶å®æˆ‘ä¸€ç›´è§‰å¾—ï¼Œæˆ‘ä»¬çš„æ„Ÿæƒ…å¾ˆç‰¹åˆ«ã€‚</p>

  <p>å®ƒä¸å¼ æ‰¬ï¼Œä¸è½°è½°çƒˆçƒˆï¼Œå´è®©æˆ‘åœ¨å¾ˆå¤šæ—¶åˆ»æ„Ÿåˆ°å®‰å¿ƒã€‚
  æ¯”å¦‚ä½ æå‰å»å®‰æ’å¥½ä½çš„åœ°æ–¹ï¼Œç„¶åæ¥æ¥æˆ‘ã€‚
  æ¯”å¦‚æˆ‘ä»¬ä¸€èµ·èƒ¡åƒæµ·å–ã€è°ˆå¤©è¯´åœ°ã€‚
  é‚£äº›ç”»é¢å¾ˆç®€å•ï¼Œå´è®©æˆ‘å¾ˆçæƒœã€‚</p>

  <p>å¼‚å›½çš„è·ç¦»ç¡®å®ä¸å®¹æ˜“ï¼Œä½†æ¯å¤©è§†é¢‘ã€èŠå¤©çš„é‚£äº›æ—¶é—´ï¼Œ
  è®©æˆ‘è§‰å¾—æˆ‘ä»¬å¹¶ä¸æ˜¯åœ¨ä¸¤ä¸ªä¸–ç•Œé‡Œç”Ÿæ´»ã€‚</p>

  <p>ä½ æ›¾ç»è¯´ï¼Œå…ˆå¼‚å›½ä¸€å¹´ï¼Œçœ‹çœ‹æ„Ÿè§‰ã€‚
  æˆ‘å…¶å®æ˜¯å¼€å¿ƒçš„ã€‚
  å› ä¸ºé‚£ä»£è¡¨ä½ æ„¿æ„è®¤çœŸè€ƒè™‘æˆ‘ï¼Œè€Œä¸æ˜¯éšä¾¿å¯¹å¾…ã€‚</p>

  <p>æˆ‘ä¸çŸ¥é“æœªæ¥ä¼šæ€æ ·ï¼Œä½†æˆ‘çŸ¥é“æ­¤åˆ»çš„æˆ‘ï¼Œæ˜¯è®¤çœŸåœ°å–œæ¬¢ä½ ã€‚</p>

  <p>æƒ…äººèŠ‚å¿«ä¹ã€‚
  ä¸è®ºè·ç¦»å¤šè¿œï¼Œæˆ‘éƒ½å¾ˆçæƒœå’Œä½ å¹¶è‚©çš„æ„Ÿè§‰ã€‚</p>

  <div class="signature">
    <span>â€”â€” ç¥</span>
    <span id="time"></span>
  </div>

  <button id="musicBtn">æ’­æ”¾éŸ³ä¹</button>

</div>

<audio id="bgm" src="music.mp3" loop></audio>

<script>

// æ—¥æœŸ
const now=new Date();
document.getElementById("date").innerText=
  `${now.getFullYear()}.${now.getMonth()+1}.${now.getDate()}`;
document.getElementById("time").innerText=
  `${now.getFullYear()}-${now.getMonth()+1}-${now.getDate()}`;

// ä¿¡å°åŠ¨ç”»
const envelope=document.getElementById("envelope");
const card=document.getElementById("card");
const bgm=document.getElementById("bgm");

let opened=false;

document.getElementById("envelopeWrap").onclick=function(){

  if(opened) return;
  opened=true;

  // ğŸµ ç«‹åˆ»æ’­æ”¾ï¼ˆåœ¨ç”¨æˆ·ç‚¹å‡»äº‹ä»¶ä¸­ï¼‰
  bgm.volume=0.6;
  bgm.play().catch(()=>{});

  envelope.classList.add("state-flap");
  setTimeout(()=>envelope.classList.add("state-pull"),600);
  setTimeout(()=>envelope.classList.add("state-unfold"),1400);
  setTimeout(()=>{
    card.classList.add("show");
  },2000);
};
// éŸ³ä¹æŒ‰é’®
document.getElementById("musicBtn").onclick=function(){
  if(bgm.paused){
    bgm.volume=0.6;
    bgm.play();
    this.innerText="æš‚åœéŸ³ä¹";
  }else{
    bgm.pause();
    this.innerText="æ’­æ”¾éŸ³ä¹";
  }
};

</script>
</body>
</html>

