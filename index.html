<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>静，给你的一封信</title>

<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@600&display=swap" rel="stylesheet">

<style>
:root{
  --bg1:#0f1020;
  --bg2:#1b1630;
  --text:#f6f2ff;
  --muted:#d8cfffcc;
  --accent:#ff6b9a;
  --accent2:#ffd1dc;
}

*{box-sizing:border-box}
body{
  margin:0;
  color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Microsoft YaHei",sans-serif;
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(255,107,154,.18), transparent 55%),
    linear-gradient(140deg, var(--bg1), var(--bg2));
  overflow-x:hidden;
}

.photo-bg{
  position:fixed; inset:0;
  background-image:url("photo.jpg");
  background-size:cover;
  background-position:center;
  opacity:.15;
  filter:blur(2px);
  pointer-events:none;
}

.wrap{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
}

.scene{
  width:min(900px,100%);
  display:grid;
  place-items:center;
  gap:20px;
}

.envelope-wrap{
  width:min(520px,92vw);
  aspect-ratio:16/10;
  position:relative;
  display:grid;
  place-items:center;
  cursor:pointer;
  perspective:1200px;
}

.envelope{
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
}

.env-body{
  position:absolute; inset:0;
  border-radius:18px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.2);
}

.flap{
  position:absolute;
  left:0; right:0;
  top:-1px;
  height:56%;
  transform-origin:top;
  transition:transform .8s ease;
}
.flap:before{
  content:"";
  position:absolute; inset:0;
  background:rgba(255,255,255,.12);
  clip-path:polygon(0 0,100% 0,50% 100%);
  border-top-left-radius:18px;
  border-top-right-radius:18px;
}

.seal{
  position:absolute;
  width:80px;height:80px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  display:grid;
  place-items:center;
  font-weight:bold;
  color:#1b1020;
  transition:opacity .5s;
}

.open .flap{transform:rotateX(-160deg);}
.open .seal{opacity:0;}

.card{
  width:min(820px,100%);
  background:rgba(255,255,255,.08);
  border-radius:24px;
  padding:30px;
  opacity:0;
  transform:translateY(10px);
  transition:opacity .6s ease, transform .6s ease;
}
.card.show{
  opacity:1;
  transform:translateY(0);
}

header{
  display:flex;
  gap:20px;
  align-items:center;
  flex-wrap:wrap;
}

.polaroid{
  width:110px;
  background:#fff;
  padding:8px 8px 22px;
  border-radius:4px;
  box-shadow:0 10px 25px rgba(0,0,0,.4);
  transform:rotate(-6deg);
}

.polaroid img{
  width:100%;
  height:90px;
  object-fit:cover;
}

.polaroid-caption{
  text-align:center;
  margin-top:6px;
  color:#222;
  font-family:'Caveat',cursive;
  font-size:16px;
}

h1{margin:0;font-size:26px;}
.subtitle{color:var(--muted);}

.letter p{
  line-height:1.9;
  margin-bottom:14px;
}

.signature{
  margin-top:20px;
  display:flex;
  justify-content:space-between;
}

.hearts{
  position:fixed; inset:0;
  pointer-events:none;
  overflow:hidden;
}

.heart{
  position:absolute;
  width:12px;height:12px;
  transform:rotate(45deg);
  animation:floatUp 8s linear forwards;
}
.heart:before,.heart:after{
  content:"";
  position:absolute;
  width:12px;height:12px;
  border-radius:50%;
  background:inherit;
}
.heart:before{left:-6px;}
.heart:after{top:-6px;}

@keyframes floatUp{
  from{transform:translateY(20px) rotate(45deg);opacity:.5;}
  to{transform:translateY(-120vh) rotate(45deg);opacity:0;}
}
</style>
</head>

<body>

<div class="photo-bg"></div>
<div class="hearts" id="hearts"></div>

<div class="wrap">
<div class="scene">

<div class="envelope-wrap" id="envelopeWrap">
  <div class="envelope" id="envelope">
    <div class="env-body"></div>
    <div class="flap"></div>
    <div class="seal">OPEN</div>
  </div>
</div>

<article class="card" id="card">
<header>
  <div class="polaroid">
    <img src="photo.jpg">
    <div class="polaroid-caption" id="photoDate"></div>
  </div>

  <div>
    <h1>给静的一封信</h1>
    <div class="subtitle">情人节快乐。</div>
  </div>
</header>

<div class="letter">
<p>静，</p>
<p>其实我一直觉得，我们的感情很特别。</p>
<p>它不张扬，却让我安心。</p>
<p>我不知道未来会怎样，但此刻的我，是认真地喜欢你。</p>
<p>情人节快乐。</p>

<div class="signature">
<div>—— 祝</div>
<div id="signedDate"></div>
</div>
</div>

</article>
</div>
</div>

<audio id="bgm" src="music.mp3" loop></audio>

<script>
const bgm=document.getElementById('bgm');

document.getElementById('envelopeWrap').onclick=function(){
  document.getElementById('envelope').classList.add('open');
  document.getElementById('card').classList.add('show');
  bgm.play().catch(()=>{});
};

(function(){
  const now=new Date();
  document.getElementById('signedDate').textContent=
  now.getFullYear()+"-"+(now.getMonth()+1)+"-"+now.getDate();
  document.getElementById('photoDate').textContent=
  now.getFullYear()+"."+ (now.getMonth()+1)+"."+ now.getDate();
})();
</script>

</body>
</html>
